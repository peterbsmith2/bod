<div class="board">
  <section class="board__panel" *ngIf="!!sourceColumn">
    <ng-container *ngFor="let category of allCategories; let i = index">
      <div class="board__column-header" *ngIf="categoriesLists[i].length">
        <h1>{{ category | titlecase }}</h1>
      </div>
      <div
        cdkDropListSortingDisabled
        [id]="category"
        cdkDropList
        [cdkDropListConnectedTo]="connectedTo()"
        [cdkDropListData]="categoriesLists[i]"
        (cdkDropListDropped)="drop($event)"
      >
        <training-board-card
          [closeable]="false"
          *ngFor="let data of categoriesLists[i]"
          [name]="data.name"
          cdkDrag
          [cdkDragData]="data"
        >
        </training-board-card>
      </div>
    </ng-container>
  </section>

  <ng-container *ngFor="let dayList of daysLists; let i = index">
    <section
      class="board__column"
      [id]="i.toString()"
      [cdkDropListEnterPredicate]="uniquePredicate"
      cdkDropList
      [cdkDropListConnectedTo]="connectedTo(i)"
      [cdkDropListData]="dayList"
      (cdkDropListDropped)="drop($event)"
    >
      <header class="board__column-header">
        <h1>Day {{ i + 1 }}</h1>
      </header>
      <article *ngFor="let card of daysLists[i]; let j = index">
        <training-board-card
          *ngIf="!!card.routerLink; else noRouterLink"
          [routerLink]="[card.routerLink]"
          (remove)="onRemove(i, j)"
          [closeable]="!!sourceColumn"
          [name]="card.name"
          cdkDrag
          [cdkDragData]="card"
        >
        </training-board-card>
        <ng-template #noRouterLink>
          <training-board-card
            (remove)="onRemove(i, j)"
            [name]="card.name"
            cdkDrag
            [closeable]="!!sourceColumn"
            [cdkDragData]="card"
          >
          </training-board-card>
        </ng-template>
      </article>
    </section>
  </ng-container>
</div>
