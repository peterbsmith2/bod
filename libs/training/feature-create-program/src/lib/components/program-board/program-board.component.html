<div class="board">
  <section class="board__panel" *ngIf="displaySource">
    <ng-container *ngFor="let category of allCategories; let i = index">
      <div class="board__column-header" *ngIf="categoriesLists[i].length">
        <h1>{{ category | titlecase }}</h1>
      </div>
      <div
        cdkDropListSortingDisabled
        [id]="category"
        cdkDropList
        [cdkDropListConnectedTo]="connectedTo()"
        [cdkDropListData]="categoriesLists[i]"
        (cdkDropListDropped)="drop($event)"
      >
        <bod-exercise-card
          [closeable]="false"
          *ngFor="let data of categoriesLists[i]"
          [exercise]="data.exercise"
          cdkDrag
          [cdkDragData]="data"
        >
        </bod-exercise-card>
      </div>
    </ng-container>
  </section>

  <ng-container *ngFor="let dayNumber of allDayNumbers; let i = index">
    <section
      class="board__column"
      [id]="dayNumber.toString()"
      [cdkDropListEnterPredicate]="uniquePredicate"
      cdkDropList
      [cdkDropListConnectedTo]="connectedTo(dayNumber)"
      [cdkDropListData]="daysLists[i]"
      (cdkDropListDropped)="drop($event)"
    >
      <header class="board__column-header">
        <h1>Day {{ dayNumber }}</h1>
      </header>
      <article *ngFor="let data of daysLists[i]">
        <bod-exercise-card
          *ngIf="!!data.sessionItem"
          [routerLink]="['/session-items', data.sessionItem.id]"
          [closeable]="!!!data.sessionItem"
          (remove)="onRemove(data, i)"
          [exercise]="data.exercise"
          cdkDrag
          [cdkDragData]="data"
        >
        </bod-exercise-card>
        <bod-exercise-card
          *ngIf="!!!data.sessionItem"
          [closeable]="!!!data.sessionItem"
          (remove)="onRemove(data, i)"
          [exercise]="data.exercise"
          cdkDrag
          [cdkDragData]="data"
        >
        </bod-exercise-card>
      </article>
    </section>
  </ng-container>
</div>
