<div class="container">
  <!-- src is set in .ts because youtube considers property binding a possible XSS attack -->
  <ng-container *ngIf="(weekStatistic$ | async) as weekStatistic">
    <mat-card *ngIf="weekStatistic.playlist">
      <h2>Week {{ weekStatistic.week.number }} Playlist</h2>
      <mat-card-content>
        <iframe
          #player
          height="315"
          frameborder="0"
          allow="autoplay; encrypted-media"
          allowfullscreen
        ></iframe>
      </mat-card-content>
    </mat-card>
    <mat-tab-group mat-align-tabs="start">
      <mat-tab
        *ngFor="let sessionStatistic of weekStatistic.sessionStatistics"
        [label]="sessionStatistic.session.name"
      >
        <ng-container
          *ngFor="let sessionItemStatistic of sessionStatistic.sessionItemStatistics"
        >
          <training-session-item-statistic-card
            [sessionItemStatistic]="sessionItemStatistic"
          ></training-session-item-statistic-card>
        </ng-container>
      </mat-tab>
    </mat-tab-group>
  </ng-container>
</div>
